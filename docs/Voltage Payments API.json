{"openapi":"3.1.0","info":{"title":"Voltage Payments API","description":"API documentation for Voltage Payments","license":{"name":""},"version":"1.0.0"},"servers":[{"url":"/api/v1/"}],"paths":{"organizations/{organization_id}/wallets":{"get":{"tags":["Wallets"],"summary":"Get all wallets in an organization","operationId":"get_all_organizations_wallets_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the wallet in","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved organization's wallets","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Wallet"}}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the organization's wallets, organization READ access required"},"404":{"description":"No wallet found for given organization_id in provided organization"},"500":{"description":"Server failed to complete the request"}}},"post":{"tags":["Wallets"],"summary":"Create a new wallet","operationId":"create_wallet","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the wallet in","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewWalletRequest"}}},"required":true},"responses":{"202":{"description":"Successfully requested a new wallet be created"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to create a wallet, organization WRITE access required"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/wallets/{wallet_id}":{"get":{"tags":["Wallets"],"summary":"Get a wallet","operationId":"get_wallet","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the wallet in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"wallet_id","in":"path","description":"Wallet ID to retrieve","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved a wallet","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Wallet"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the wallet, organization READ access required"},"404":{"description":"No wallet found for given id in provided organization"},"500":{"description":"Server failed to complete the request"}}},"delete":{"tags":["Wallets"],"summary":"Delete a wallet","operationId":"delete_wallet","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to delete the wallet in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"wallet_id","in":"path","description":"Wallet ID to delete","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully deleted wallet"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to delete a wallet, organization WRITE access required"},"404":{"description":"No wallet found for given id in provided organization"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/wallets/{wallet_id}/ledger":{"get":{"tags":["Wallets"],"summary":"Get a wallet's transaction history","operationId":"get_wallet_ledger_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the wallet in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"wallet_id","in":"path","description":"Wallet ID to retrieve the ledger for","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"offset","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"limit","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"payment_id","in":"query","required":false,"schema":{"type":["string","null"],"format":"uuid"}},{"name":"start_date","in":"query","required":false,"schema":{"type":["string","null"],"format":"date-time"}},{"name":"end_date","in":"query","required":false,"schema":{"type":["string","null"],"format":"date-time"}},{"name":"sort_key","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/LedgerSortKey"}]}},{"name":"sort_order","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortOrder"}]}}],"responses":{"200":{"description":"Successfully retrieved a wallet's ledger","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ledger"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the wallet ledger, organization READ access required"},"404":{"description":"No wallet found for given id in provided organization"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/payments":{"get":{"tags":["Payments"],"summary":"Get all payments for an organization","operationId":"get_payments","parameters":[{"name":"organization_id","in":"path","description":"Organization ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"offset","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"limit","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"wallet_id","in":"query","required":false,"schema":{"type":["string","null"],"format":"uuid"}},{"name":"statuses","in":"query","required":false,"schema":{"type":["array","null"],"items":{"$ref":"#/components/schemas/PaymentStatus"}}},{"name":"sort_key","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortKey"}]}},{"name":"sort_order","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortOrder"}]}},{"name":"kind","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/PaymentKind"}]}},{"name":"direction","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/PaymentDirection"}]}},{"name":"end_date","in":"query","required":false,"schema":{"type":["string","null"],"format":"date-time"}},{"name":"start_date","in":"query","required":false,"schema":{"type":["string","null"],"format":"date-time"}}],"responses":{"200":{"description":"Successfully found the payment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Payments"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get a payment, organization READ access required"},"404":{"description":"No payment with that ID found in this organization and environment"},"500":{"description":"Server failed to complete the request"}}},"post":{"tags":["Payments"],"summary":"Create a new payment","operationId":"create_payment","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the payment in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to create the payment in","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentRequest"},"examples":{"receive_payment_bip21":{"summary":"Receive BIP21 Payment Example","description":"Example of creating a BIP21 URI that includes both on-chain and Lightning payment options","value":{"amount_msats":150000,"currency":"btc","description":"Payment for services","id":"11ca843c-bdaa-44b6-965a-39ac550fcef7","payment_kind":"bip21","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"receive_payment_bolt11":{"summary":"Receive Lightning Bolt11 Payment Example","description":"Example of creating a lightning bolt11 payment request to receive funds","value":{"amount_msats":150000,"currency":"btc","description":"test payment","id":"11ca843c-bdaa-44b6-965a-39ac550fcef7","payment_kind":"bolt11","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"receive_payment_onchain":{"summary":"Receive On Chain Payment Example","description":"Example of creating an onchain address to receive funds","value":{"amount_msats":150000,"currency":"btc","description":"test payment","id":"11ca843c-bdaa-44b6-965a-39ac550fcef7","payment_kind":"onchain","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"send_payment_bip21":{"summary":"Send BIP21 Payment Example","description":"Example of sending a payment using a BIP21 URI that includes both on-chain and Lightning payment options","value":{"currency":"btc","data":{"address":"bitcoin:bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh?amount=0.0015&label=Example%20Store&message=Payment%20for%20services&lightning=lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz","amount_msats":150000,"description":"Payment for services","max_fee_msats":1000},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"bip21","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"send_payment_bolt11":{"summary":"Send Lightning Bolt11 Payment Example","description":"Example of sending a lightning bolt11 payment with a payment request","value":{"currency":"btc","data":{"amount_msats":150000,"max_fee_msats":1000,"payment_request":"lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz"},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"bolt11","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}},"send_payment_onchain":{"summary":"Send On Chain Payment Example","description":"Example of sending an onchain payment","value":{"currency":"btc","data":{"address":"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh","amount_sats":150,"max_fee_sats":10},"id":"68d00852-8dd8-4c71-94d2-91c84695da78","type":"onchain","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}}}}},"required":true},"responses":{"202":{"description":"Successfully requested a new payment be created"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to create a payment, organization WRITE access required"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/payments/{payment_id}":{"get":{"tags":["Payments"],"summary":"Get a payment for an organization","operationId":"get_payment","parameters":[{"name":"organization_id","in":"path","description":"Organization ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"payment_id","in":"path","description":"Payment ID for the payment","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully found the payment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Payment"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get a payment, organization READ access required"},"404":{"description":"No payment with that ID found in this organization and environment"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/payments/{payment_id}/history":{"get":{"tags":["Payments"],"summary":"Get the history of a payment","operationId":"get_payment_history","parameters":[{"name":"organization_id","in":"path","description":"Organization ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID the payment is in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"payment_id","in":"path","description":"Payment ID for the payment","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully requested the history of a payment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentHistory"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get this payment's history, organization READ access required"},"404":{"description":"No payment with that ID found in this organization and environment"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/lines_of_credit/{line_id}/summary":{"get":{"tags":["Lines of Credit"],"summary":"Retrieve a summary of a line of credit","operationId":"get_line_of_credit_summary_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get the line of credit in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"line_id","in":"path","description":"ID of line of credit to update","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved a line of credit summary","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SummaryLineOfCredit"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the line of credit found, organization READ access required"},"404":{"description":"No line of credit found for given id in provided organization"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/lines_of_credit/summaries":{"get":{"tags":["Lines of Credit"],"summary":"Retrieve summaries for all lines of credit for an organization","operationId":"get_lines_of_credit_summaries_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get the line of credit in","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved lines of credit","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SummaryLineOfCredit"}}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retrieve the lines of credit found, organization WRITE access required"},"404":{"description":"No lines of credit found in provided organization"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/webhooks":{"get":{"tags":["Webhooks"],"summary":"Get all webhooks for an organization and environment with filter","operationId":"get_webhooks_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_ids","in":"query","required":false,"schema":{"type":["array","null"],"items":{"type":"string","format":"uuid"}}},{"name":"statuses","in":"query","required":false,"schema":{"type":["array","null"],"items":{"$ref":"#/components/schemas/WebhookStatus"}}},{"name":"sort_key","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortKey"}]}},{"name":"sort_order","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortOrder"}]}}],"responses":{"200":{"description":"Successfully retrieved webhooks","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WebhookRead"}},"examples":{"All Event Types Example":{"value":[{"created_at":"2025-04-29T17:09:11.299Z","deleted_at":null,"environment_id":"123e4567-e89b-12d3-a456-426614174000","events":[{"send":["succeeded","failed"]},{"receive":["generated","refreshed","expired","succeeded","completed","failed"]},{"test":["created"]}],"id":"123e4567-e89b-12d3-a456-426614174000","name":"some name","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"active","stopped_at":null,"updated_at":"2025-04-29T17:09:11.299Z","url":"http://example.com"}]},"Receive Event Example":{"value":[{"created_at":"2025-04-29T17:09:11.299Z","deleted_at":null,"environment_id":"123e4567-e89b-12d3-a456-426614174000","events":[{"receive":["generated","refreshed","expired","succeeded","completed","failed"]}],"id":"123e4567-e89b-12d3-a456-426614174000","name":"some name","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"active","stopped_at":null,"updated_at":"2025-04-29T17:09:11.299Z","url":"http://example.com"}]},"Send Event Example":{"value":[{"created_at":"2025-04-29T17:09:11.299Z","deleted_at":null,"environment_id":"123e4567-e89b-12d3-a456-426614174000","events":[{"send":["succeeded","failed"]}],"id":"123e4567-e89b-12d3-a456-426614174000","name":"some name","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"active","stopped_at":null,"updated_at":"2025-04-29T17:09:11.299Z","url":"http://example.com"}]},"Test Event Example":{"value":[{"created_at":"2025-04-29T17:09:11.299Z","deleted_at":null,"environment_id":"123e4567-e89b-12d3-a456-426614174000","events":[{"test":["created"]}],"id":"123e4567-e89b-12d3-a456-426614174000","name":"some name","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"active","stopped_at":null,"updated_at":"2025-04-29T17:09:11.299Z","url":"http://example.com"}]}}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get webhooks, organization READ access required"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks":{"post":{"tags":["Webhooks"],"summary":"Create a new webhook","operationId":"create_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to create the webhook in","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewWebhookRequest"}}},"required":true},"responses":{"202":{"description":"Successfully requested a new webhook be created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookPlainSecret"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to create a webhook, organization WRITE access required"},"409":{"description":"Webhook already exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}":{"get":{"tags":["Webhooks"],"summary":"Get a webhook","operationId":"get_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to get webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of webhook to retrieve","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"Successfully retrieved webhook","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRead"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get webhook, organization READ access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}},"delete":{"tags":["Webhooks"],"summary":"Delete a webhook","operationId":"delete_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to delete webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to delete webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of webhook to delete","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully submitted delete webhook request"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to delete webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}},"patch":{"tags":["Webhooks"],"summary":"Update webhook details","operationId":"update_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to create the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to create the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"Webhook ID to update","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWebhookRequest"}}},"required":true},"responses":{"202":{"description":"Successfully requested update webhook"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to update a webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/keys":{"post":{"tags":["Webhooks"],"summary":"Generate new key for webhook","operationId":"generate_webhook_key","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to update the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to update the webhook in","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"Webhook ID to generate new key","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully requested a new webhook be created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookPlainSecret"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to create a webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/test":{"post":{"tags":["Webhooks"],"summary":"Test a webhook","operationId":"test_webhook","parameters":[{"name":"organization_id","in":"path","description":"Organization ID of the webhook to use","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID of the webhook to use","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"Webhook to initiate the delivery on","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestWebhookRequest"},"examples":{"receive_webhook_test":{"summary":"Test Receive Webhook Example","description":"Example of testing a webhook delivery for a payment receive event","value":{"delivery_id":"123e4567-e89b-12d3-a456-426614174002","payload":{"detail":{"data":{"created_at":"2024-11-21T19:15:22.123Z","currency":"BTC","data":{"amount_msats":250000,"description":"Invoice for coffee","payment_hash":"a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6","payment_request":"lnbc2500n1p3xyz123pp5mnrv3usmd97zu3venjxs8xtpy6x5vnryg69tc4p7syc875dajhsqdqqcqzpgxqyz5vqsp5ayzdef"},"direction":"receive","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"123e4567-e89b-12d3-a456-426614174003","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"pending","type":"bolt11","updated_at":"2024-11-21T19:15:22.123Z","wallet_id":"123e4567-e89b-12d3-a456-426614174000"},"event":["generated","refreshed","expired","succeeded","completed","failed"]},"type":"receive"}}},"send_webhook_test":{"summary":"Test Send Webhook Example","description":"Example of testing a webhook delivery for a payment send event","value":{"delivery_id":"123e4567-e89b-12d3-a456-426614174001","payload":{"detail":{"data":{"created_at":"2024-11-21T18:47:04.008Z","currency":"BTC","data":{"amount_msats":100000,"max_fee_msats":1000,"memo":"testing","payment_request":"lnbc100n1p3slw4kpp5z4ybq0q0j6wkrkk99s9xg8p7rugry2nl0y4h8srq0l80r8gf8jhsdqqcqzpgxqyz5vqsp5l5ft0c6h6p5ktkudznlddtnkk5zf7xgwsyqcqwwz2v8zrsm8d7q9qyyssq"},"direction":"send","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"123e4567-e89b-12d3-a456-426614174000","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"sending","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"123e4567-e89b-12d3-a456-426614174000"},"event":["succeeded","failed"]},"type":"send"}}},"test_webhook_test":{"summary":"Simple Test Webhook Example","description":"Example of testing a webhook with a simple test payload for verification","value":{"delivery_id":"123e4567-e89b-12d3-a456-426614174004","payload":{"detail":{"data":"This is a test webhook delivery to verify endpoint configuration and connectivity","event":["created"]},"type":"test"}}}}}},"required":true},"responses":{"202":{"description":"Successfully requested a new webhook delivery be started with provided payload"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to submit delivery via a webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/start":{"post":{"tags":["Webhooks"],"summary":"Start a webhook","operationId":"start_webhook_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to start webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to start webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of webhook to start","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully submitted start webhook request"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to start webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/stop":{"post":{"tags":["Webhooks"],"summary":"Stop a webhook","operationId":"stop_webhook_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to stop webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to stop webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of Webhook to stop","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully submitted stop webhook request"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to stop webhooks, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/deliveries":{"get":{"tags":["Webhooks"],"summary":"Get all webhook deliveries for a given webhook in an organization and environment with filter","operationId":"get_webhook_deliveries_as_user","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to get webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to get webhooks from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of Webhook to retrieve deliveries from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"statuses","in":"query","required":false,"schema":{"type":["array","null"],"items":{"$ref":"#/components/schemas/DeliveryStatus"}}},{"name":"sort_key","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortKey"}]}},{"name":"sort_order","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SortOrder"}]}},{"name":"limit","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}},{"name":"offset","in":"query","required":false,"schema":{"type":["integer","null"],"format":"u-int32","minimum":0}}],"responses":{"200":{"description":"Successfully retrieved webhooks","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookDeliveries"}}}},"400":{"description":"Badly formatted request"},"403":{"description":"No access to get webhooks, organization READ access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/deliveries/{delivery_id}/abandon":{"post":{"tags":["Webhooks"],"summary":"Abandon a webhook delivery","operationId":"abandon_webhook_delivery","parameters":[{"name":"organization_id","in":"path","description":"Organization ID of the webhook to use","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID of the webhook to use","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"Webhook to abandon the delivery on","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"delivery_id","in":"path","description":"Delivery ID to abandon","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully requested an abandoned webhook delivery"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to submit abandon via a webhook, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}},"organizations/{organization_id}/environments/{environment_id}/webhooks/{webhook_id}/deliveries/{delivery_id}/retry":{"post":{"tags":["Webhooks"],"summary":"Retry a webhook delivery","operationId":"retry_webhook_delivery","parameters":[{"name":"organization_id","in":"path","description":"Organization ID to retry webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"environment_id","in":"path","description":"Environment ID to retry webhook from","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"webhook_id","in":"path","description":"ID of webhook to retry","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"delivery_id","in":"path","description":"ID of webhook delivery to retry","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"202":{"description":"Successfully submitted delete webhook request"},"400":{"description":"Badly formatted request"},"403":{"description":"No access to retry webhook delivery, organization WRITE access required"},"404":{"description":"Webhook does not exists"},"500":{"description":"Server failed to complete the request"}}}}},"components":{"schemas":{"Amount":{"oneOf":[{"type":"object","required":["amount","currency"],"properties":{"amount":{"$ref":"#/components/schemas/BtcAmount"},"currency":{"type":"string","enum":["btc"]}}},{"type":"object","required":["amount","currency"],"properties":{"amount":{"$ref":"#/components/schemas/UsdAmount"},"currency":{"type":"string","enum":["usd"]}}}]},"Balance":{"type":"object","required":["id","wallet_id","effective_time","available","total","network","currency"],"properties":{"id":{"type":"string","format":"uuid"},"wallet_id":{"type":"string","format":"uuid"},"effective_time":{"type":"string","format":"date-time"},"available":{"$ref":"#/components/schemas/SignedAmount"},"total":{"$ref":"#/components/schemas/SignedAmount"},"network":{"$ref":"#/components/schemas/Network"},"currency":{"$ref":"#/components/schemas/Currency"}}},"BtcAmount":{"type":"integer","format":"u-int64","minimum":0},"CapturedEvent":{"type":"object","required":["hold_id","payment_id","amount_msats","currency","effective_time"],"properties":{"hold_id":{"type":"string","format":"uuid"},"payment_id":{"type":"string","format":"uuid"},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"currency":{"$ref":"#/components/schemas/Currency"},"effective_time":{"type":"string","format":"date-time"}}},"CollateralStatus":{"oneOf":[{"type":"object","required":["secured"],"properties":{"secured":{"$ref":"#/components/schemas/SecuredStatus"}}},{"type":"object","required":["verified"],"properties":{"verified":{"$ref":"#/components/schemas/VerifiedStatus"}}}]},"CreditedEvent":{"type":"object","required":["credit_id","payment_id","amount_msats","currency","effective_time"],"properties":{"credit_id":{"type":"string","format":"uuid"},"payment_id":{"type":"string","format":"uuid"},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"currency":{"$ref":"#/components/schemas/Currency"},"effective_time":{"type":"string","format":"date-time"}}},"Currency":{"type":"string","enum":["btc","usd"]},"DeliveryStatus":{"type":"string","enum":["attempting","succeeded","failed","abandoned"],"example":"succeeded"},"EventHistory":{"type":"object","required":["event_type","time","position"],"properties":{"event_type":{"type":"string"},"error":{"type":["string","null"]},"time":{"type":"string","format":"date-time"},"position":{"type":"integer","format":"int64"}}},"EventTypes":{"oneOf":[{"type":"object","required":["send"],"properties":{"send":{"$ref":"#/components/schemas/SendEventTypes"}}},{"type":"object","required":["receive"],"properties":{"receive":{"$ref":"#/components/schemas/ReceiveEventTypes"}}},{"type":"object","required":["test"],"properties":{"test":{"$ref":"#/components/schemas/TestEventTypes"}}}]},"Frozen":{"type":"array","items":{"$ref":"#/components/schemas/PaymentFrozen"}},"HeldEvent":{"type":"object","required":["hold_id","payment_id","amount_msats","currency","effective_time"],"properties":{"hold_id":{"type":"string","format":"uuid"},"payment_id":{"type":"string","format":"uuid"},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"currency":{"$ref":"#/components/schemas/Currency"},"effective_time":{"type":"string","format":"date-time"}}},"Hold":{"type":"object","required":["id","amount","effective_time"],"properties":{"id":{"type":"string","format":"uuid"},"amount":{"$ref":"#/components/schemas/SignedAmount"},"effective_time":{"type":"string","format":"date-time"}}},"Ledger":{"type":"object","required":["items","offset","limit","total"],"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/LedgerEvent"}},"offset":{"type":"integer","format":"u-int32","minimum":0},"limit":{"type":"integer","format":"u-int32","minimum":0},"total":{"type":"integer","format":"u-int32","minimum":0}}},"LedgerEvent":{"oneOf":[{"allOf":[{"$ref":"#/components/schemas/CreditedEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["credited"]}}}]},{"allOf":[{"$ref":"#/components/schemas/CapturedEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["captured"]}}}]},{"allOf":[{"$ref":"#/components/schemas/HeldEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["held"]}}}]},{"allOf":[{"$ref":"#/components/schemas/ReleasedEvent"},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["released"]}}}]}]},"LedgerSortKey":{"type":"string","enum":["effective_time","message_time","time_and_effective_time"]},"Network":{"type":"string","enum":["mainnet","testnet","signet","mutinynet"]},"NewWalletRequest":{"type":"object","required":["id","environment_id","line_of_credit_id","name","network","limit"],"properties":{"id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"line_of_credit_id":{"type":"string","format":"uuid"},"name":{"type":"string"},"network":{"$ref":"#/components/schemas/SupportedNetwork"},"limit":{"type":"integer","format":"u-int64","example":100000000,"minimum":1},"metadata":{"type":["object","null"],"additionalProperties":{"type":"string"},"propertyNames":{"type":"string"}}},"example":{"environment_id":"123e4567-e89b-12d3-a456-426614174000","id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2","limit":100000000,"line_of_credit_id":"7df75323-84f1-4699-97da-776380a0aa81","metadata":{"tag":"testing wallet"},"name":"testing","network":"mutinynet"}},"NewWebhookRequest":{"type":"object","required":["id","url","name","events"],"properties":{"id":{"type":"string","format":"uuid","example":"b0fc9829-f139-4035-bb14-4a4b6cd58f0e"},"url":{"type":"string","example":"https://example.com"},"name":{"type":"string","example":"some name"},"events":{"type":"string","example":[{"send":"succeeded"},{"send":"failed"},{"receive":"succeeded"},{"receive":"completed"},{"receive":"failed"}]}}},"OnChainPaymentFrozen":{"type":"object","required":["tx_id","address","amount_sats","reason"],"properties":{"tx_id":{"type":"string","description":"The hex encoded bitcoin transaction id","example":"a22ec88f7a84a705466c9cd8d37024155ffa7930300fcee4fed9e5cc4e25904e"},"address":{"type":"string","description":"The bitcoin address that received the tainted funds","example":"bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq"},"amount_sats":{"type":"integer","format":"u-int64","description":"The amount of tainted funds in sats to freeze","minimum":0},"reason":{"$ref":"#/components/schemas/Reasons","description":"Reason why the funds were frozen"}}},"OnChainPaymentReceipt":{"type":"object","required":["required_confirmations_num","tx_id","amount_sats"],"properties":{"required_confirmations_num":{"type":"integer","format":"u-int16","description":"The number of confirmations required for the transaction to be considered complete","minimum":0},"tx_id":{"type":"string","description":"The hex encoded bitcoin transaction id"},"ledger_id":{"type":["string","null"],"format":"uuid","description":"Maps to either the hold_id or credit_id associated with this part of the payment"},"height_mined_at":{"type":["integer","null"],"format":"u-int64","description":"The height of the block that mined the transaction","minimum":0},"amount_sats":{"type":"integer","format":"u-int64","description":"The amount of the transaction in sats","minimum":0}}},"Payload":{"oneOf":[{"type":"object","required":["detail","type"],"properties":{"detail":{"$ref":"#/components/schemas/SendPayload"},"type":{"type":"string","enum":["send"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"$ref":"#/components/schemas/ReceivePayload"},"type":{"type":"string","enum":["receive"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"$ref":"#/components/schemas/TestPayload"},"type":{"type":"string","enum":["test"]}}}]},"Payment":{"oneOf":[{"allOf":[{"$ref":"#/components/schemas/SendPayment"},{"type":"object","required":["direction"],"properties":{"direction":{"type":"string","enum":["send"]}}}]},{"allOf":[{"$ref":"#/components/schemas/ReceivePayment"},{"type":"object","required":["direction"],"properties":{"direction":{"type":"string","enum":["receive"]}}}]}],"examples":[{"created_at":"2024-11-21T18:47:04.008Z","currency":"BTC","data":{"amount_msats":100000,"max_fee_msats":1000,"memo":"testing","payment_request":"lnbc100n1p3slw4kpp5z4ybq0q0j6wkrkk99s9xg8p7rugry2nl0y4h8srq0l80r8gf8jhsdqqcqzpgxqyz5vqsp5l5ft0c6h6p5ktkudznlddtnkk5zf7xgwsyqcqwwz2v8zrsm8d7q9qyyssq"},"direction":"send","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"123e4567-e89b-12d3-a456-426614174000","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"sending","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"123e4567-e89b-12d3-a456-426614174000"},{"created_at":"2024-11-21T18:47:04.008Z","currency":"BTC","data":{"amount_msats":200000,"memo":"testing","payment_request":"lnbc200n1p3slw4kpp5z4ybq0q0j6wkrkk99s9xg8p7rugry2nl0y4h8srq0l80r8gf8jhsdqqcqzpgxqyz5vqsp5l5ft0c6h6p5ktkudznlddtnkk5zf7xgwsyqcqwwz2v8zrsm8d7q9qyyssq"},"direction":"receive","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"223e4567-e89b-12d3-a456-426614174001","organization_id":"123e4567-e89b-12d3-a456-426614174000","status":"receiving","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"123e4567-e89b-12d3-a456-426614174000"}]},"PaymentDirection":{"type":"string","enum":["send","receive"]},"PaymentFrozen":{"oneOf":[{"type":"object","required":["data","type"],"properties":{"data":{"$ref":"#/components/schemas/OnChainPaymentFrozen"},"type":{"type":"string","enum":["onchain"]}}}]},"PaymentHistory":{"type":"object","required":["events"],"properties":{"events":{"type":"array","items":{"$ref":"#/components/schemas/EventHistory"}}}},"PaymentKind":{"type":"string","enum":["bolt11","onchain","bip21"]},"PaymentReceiveType":{"oneOf":[{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_msats"],"properties":{"payment_request":{"type":["string","null"]},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"memo":{"type":["string","null"]}}},"type":{"type":"string","enum":["bolt11"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_sats","receipts"],"properties":{"address":{"type":["string","null"]},"amount_sats":{"type":"integer","format":"u-int64","minimum":0},"label":{"type":["string","null"]},"receipts":{"type":"array","items":{"$ref":"#/components/schemas/OnChainPaymentReceipt"}}}},"type":{"type":"string","enum":["onchain"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_msats","receipts"],"properties":{"payment_request":{"type":["string","null"]},"address":{"type":["string","null"]},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"description":{"type":["string","null"]},"receipts":{"type":"array","items":{"$ref":"#/components/schemas/OnChainPaymentReceipt"}}}},"type":{"type":"string","enum":["bip21"]}}}]},"PaymentRequest":{"oneOf":[{"$ref":"#/components/schemas/SendPaymentRequest"},{"$ref":"#/components/schemas/ReceivePaymentRequest"}]},"PaymentSendType":{"oneOf":[{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_msats","max_fee_msats"],"properties":{"payment_request":{"type":["string","null"]},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"max_fee_msats":{"type":"integer","format":"u-int64","minimum":0},"fee_msats":{"type":["integer","null"],"format":"u-int64","minimum":0},"memo":{"type":["string","null"]}}},"type":{"type":"string","enum":["bolt11"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_sats","max_fee_sats","outflows"],"properties":{"address":{"type":["string","null"]},"amount_sats":{"type":"integer","format":"u-int64","minimum":0},"max_fee_sats":{"type":"integer","format":"u-int64","minimum":0},"fee_sats":{"type":["integer","null"],"format":"u-int64","minimum":0},"label":{"type":["string","null"]},"outflows":{"type":"array","items":{"$ref":"#/components/schemas/OnChainPaymentReceipt"}}}},"type":{"type":"string","enum":["onchain"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["amount_msats","max_fee_msats","outflows"],"properties":{"payment_request":{"type":["string","null"]},"address":{"type":["string","null"]},"amount_msats":{"type":"integer","format":"u-int64","minimum":0},"max_fee_msats":{"type":"integer","format":"u-int64","minimum":0},"fee_msats":{"type":["integer","null"],"format":"u-int64","minimum":0},"description":{"type":["string","null"]},"outflows":{"type":"array","items":{"$ref":"#/components/schemas/OnChainPaymentReceipt"}}}},"type":{"type":"string","enum":["bip21"]}}}]},"PaymentTypeRequest":{"oneOf":[{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["payment_request"],"properties":{"payment_request":{"type":"string","description":"Payment request cannot be an empty string"},"amount_msats":{"type":["integer","null"],"format":"u-int64","description":"Amount in payment_request will override this value, if no amount is specified in the payment_request this value will be required\nThis amount must match the payment_request amount if it has one, and it must be greater than 0","minimum":0},"max_fee_msats":{"type":["integer","null"],"format":"u-int64","description":"If no max fee is provided we default to 1% of the payment value or 1_000 msats, must be greater than 0","minimum":0}}},"type":{"type":"string","enum":["bolt11"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["address","amount_sats"],"properties":{"address":{"type":"string","description":"Address cannot be an empty string"},"amount_sats":{"type":"integer","format":"u-int64","description":"Amount must be greater than 10000","minimum":0},"max_fee_sats":{"type":["integer","null"],"format":"u-int64","description":"If no max fee is provided we default to 1% of the payment value or 1_000 sats, must be greater than 0","minimum":0},"description":{"type":["string","null"],"description":"Description cannot be an empty string"}}},"type":{"type":"string","enum":["onchain"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"type":"object","required":["address"],"properties":{"address":{"type":"string","description":"Address cannot be an empty string, supports a valid bip21 uri"},"payment_request":{"type":["string","null"],"description":"Payment request cannot be an empty string, supports a valid uri encoded lightning invoice"},"amount_msats":{"type":["integer","null"],"format":"u-int64","description":"Amount must be greater than 0 sats for lightning payments, must be greater than 10_000_000 msats for onchain payments","minimum":0},"max_fee_msats":{"type":["integer","null"],"format":"u-int64","description":"If no max fee is provided we default to 1% of the payment value or 1_000_000 msats, must be greater than 0","minimum":0},"description":{"type":["string","null"],"description":"Description cannot be an empty string"}}},"type":{"type":"string","enum":["bip21"]}}}]},"Payments":{"type":"object","required":["items","offset","limit","total"],"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/Payment"}},"offset":{"type":"integer","format":"u-int32","minimum":0},"limit":{"type":"integer","format":"u-int32","minimum":0},"total":{"type":"integer","format":"u-int32","minimum":0}},"example":{"items":[{"created_at":"2024-11-21T18:47:04.008Z","currency":"btc","data":{"amount_msats":150000,"max_fee_msats":1000,"memo":"testing","payment_request":"lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz"},"direction":"send","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"3e84b6c5-5bbe-4e0f-9fb3-f1198330f6fa","organization_id":"b0684ab8-1130-46af-8f70-71519442f108","status":"sending","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"},{"created_at":"2025-02-12T21:22:50.30219Z","currency":"btc","data":{"address":"tb1pzkhtj4ld86g9c49du5yagnncfrm0s489t76vmrwmt2ecxfnf7spsvjte49","amount_sats":150000,"fees_sats":10,"label":null,"max_fee_sats":1000,"receipts":[{"amount_sats":10000,"height_mined_at":1888021,"ledger_id":"0c16fd8e-ce4d-42fe-9d0b-3069244eb66c","required_confirmations_num":1,"tx_id":"a22ec88f7a84a705466c9cd8d37024155ffa7930300fcee4fed9e5cc4e25904e"}]},"direction":"send","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"2ec1e783-19b4-4c10-8181-66336a6232bd","organization_id":"b0684ab8-1130-46af-8f70-71519442f108","status":"completed","type":"onchain","updated_at":"2025-02-12T21:22:52.407189Z","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"},{"created_at":"2024-11-21T18:47:04.008Z","currency":"btc","data":{"amount_msats":150000,"memo":"testing","payment_request":"lntbs1500n1pn5w25ypp59sfhx5llskdp6rmsmmq3zs86xey6l4y9wkzvkjl5v2cw0ex7xd4sdqqcqzzsxqyz5vqsp5u333jtc7lh0qvkusq5ntcpm3n2jjx6tw8jz7zvpqpnt3v8e572eq9qxpqysgq4hm7n79tnk76j4ll4f7ey9mmxdyj5pwzcmyqgxtgz40vjg9w58wq73040qvuurj83jakt2zws6y9qgzg2f6gtnj3ajf0mj4gw4mdt2cqhr2tpz"},"direction":"receive","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"11ca843c-bdaa-44b6-965a-39ac550fcef7","organization_id":"b0684ab8-1130-46af-8f70-71519442f108","status":"receiving","type":"bolt11","updated_at":"2024-11-21T18:47:04.008Z","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"},{"created_at":"2025-02-12T21:21:21.744713Z","currency":"btc","data":{"address":"tb1pzkhtj4ld86g9c49du5yagnncfrm0s489t76vmrwmt2ecxfnf7spsvjte49","amount_sats":1500000,"label":"test payment","outflows":[{"amount_sats":10000,"height_mined_at":1888021,"ledger_id":"03d87c6d-2cf8-414b-929a-eceeb4c896ed","required_confirmations_num":1,"tx_id":"a22ec88f7a84a705466c9cd8d37024155ffa7930300fcee4fed9e5cc4e25904e"}]},"direction":"receive","environment_id":"123e4567-e89b-12d3-a456-426614174000","error":null,"id":"0a24c349-55d0-473e-9c03-155f884f1867","organization_id":"b0684ab8-1130-46af-8f70-71519442f108","status":"completed","type":"onchain","updated_at":"2025-02-12T21:23:03.173159Z","wallet_id":"7a68a525-9d11-4c1e-a3dd-1c2bf1378ba2"}],"limit":100,"offset":0,"total":4}},"Reasons":{"oneOf":[{"type":"string","enum":["ofac_non_compliant_address"]},{"type":"object","required":["other"],"properties":{"other":{"type":"string"}}}]},"ReceiveError":{"oneOf":[{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["receive_failed"]}}},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["expired"]}}}]},"ReceiveEventTypes":{"type":"string","enum":["generated","refreshed","expired","succeeded","completed","failed"],"example":"succeeded"},"ReceivePayload":{"type":"object","required":["event","data"],"properties":{"event":{"$ref":"#/components/schemas/ReceiveEventTypes"},"data":{"$ref":"#/components/schemas/Payment"}}},"ReceivePayment":{"allOf":[{"$ref":"#/components/schemas/PaymentReceiveType"},{"type":"object","required":["id","wallet_id","organization_id","environment_id","created_at","updated_at","currency","status"],"properties":{"id":{"type":"string","format":"uuid"},"wallet_id":{"type":"string","format":"uuid"},"organization_id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"currency":{"$ref":"#/components/schemas/Currency"},"status":{"$ref":"#/components/schemas/ReceiveStatus"},"error":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/ReceiveError"}]},"frozen":{"$ref":"#/components/schemas/Frozen","description":"Funds of payment that have been frozen due to compliance requirements"}}}]},"ReceivePaymentRequest":{"type":"object","required":["id","wallet_id","currency","payment_kind"],"properties":{"id":{"type":"string","format":"uuid"},"wallet_id":{"type":"string","format":"uuid"},"currency":{"$ref":"#/components/schemas/Currency"},"amount_msats":{"type":["integer","null"],"format":"u-int64","description":"None will be treated as an 'any' amount invoice, '0' not allowed","minimum":0},"payment_kind":{"$ref":"#/components/schemas/PaymentKind"},"description":{"type":["string","null"],"description":"Human-readable description of the payment\nDescription cannot be an empty string"}}},"ReceiveStatus":{"type":"string","enum":["generating","receiving","expired","failed","completed"]},"ReleasedEvent":{"type":"object","required":["hold_id","payment_id","currency","effective_time"],"properties":{"hold_id":{"type":"string","format":"uuid"},"payment_id":{"type":"string","format":"uuid"},"currency":{"$ref":"#/components/schemas/Currency"},"effective_time":{"type":"string","format":"date-time"}}},"SecuredStatus":{"type":"string","enum":["pending_deposit","partially_secured","secured"]},"SendError":{"oneOf":[{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["rejected"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["hold_failed"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["send_failed"]}}}]},"SendEventTypes":{"type":"string","enum":["succeeded","failed"],"example":"succeeded"},"SendPayload":{"type":"object","required":["event","data"],"properties":{"event":{"$ref":"#/components/schemas/SendEventTypes"},"data":{"$ref":"#/components/schemas/Payment"}}},"SendPayment":{"allOf":[{"$ref":"#/components/schemas/PaymentSendType"},{"type":"object","required":["id","wallet_id","organization_id","environment_id","created_at","updated_at","currency","status"],"properties":{"id":{"type":"string","format":"uuid"},"wallet_id":{"type":"string","format":"uuid"},"organization_id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"currency":{"$ref":"#/components/schemas/Currency"},"status":{"$ref":"#/components/schemas/SendStatus"},"error":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SendError"}]}}}]},"SendPaymentRequest":{"allOf":[{"$ref":"#/components/schemas/PaymentTypeRequest","description":"When the payment_request has no amount (decodes to 0 or 'any') we will require that the 'amount' is passed in as an argument\nWhen the payment_request has a specified amount the BOLT11-encoded amount is considered canonical/authoritative\nand we will error that the 'amount' in this enum does not match the payment_request decoded value"},{"type":"object","required":["id","wallet_id","currency"],"properties":{"id":{"type":"string","format":"uuid"},"wallet_id":{"type":"string","format":"uuid"},"currency":{"$ref":"#/components/schemas/Currency"}}}]},"SendStatus":{"type":"string","enum":["sending","failed","completed"]},"SignedAmount":{"allOf":[{"$ref":"#/components/schemas/Amount"},{"type":"object","required":["negative"],"properties":{"negative":{"type":"boolean"}}}]},"SortKey":{"type":"string","enum":["created_at","updated_at"]},"SortOrder":{"type":"string","enum":["ASC","DESC"]},"SummaryLineOfCredit":{"type":"object","required":["id","organization_id","network","environment_id","limit","allocated_limit","currency"],"properties":{"id":{"type":"string","format":"uuid"},"organization_id":{"type":"string","format":"uuid"},"network":{"$ref":"#/components/schemas/Network"},"environment_id":{"type":"string","format":"uuid"},"limit":{"type":"integer","format":"u-int64","minimum":0},"allocated_limit":{"type":"integer","format":"u-int64","minimum":0},"currency":{"$ref":"#/components/schemas/Currency"},"status":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/CollateralStatus","description":"Will always be null for Waived collateral types"}]},"disabled_at":{"type":["string","null"],"format":"date-time"}}},"SupportedNetwork":{"type":"string","enum":["mainnet","testnet3","mutinynet"]},"TestEventTypes":{"type":"string","enum":["created"],"example":"created"},"TestPayload":{"type":"object","required":["event","data"],"properties":{"event":{"$ref":"#/components/schemas/TestEventTypes"},"data":{"type":"string"}}},"TestWebhookRequest":{"type":"object","required":["delivery_id","payload"],"properties":{"delivery_id":{"type":"string","format":"uuid"},"payload":{"$ref":"#/components/schemas/Payload"}}},"UpdateWebhookRequest":{"type":"object","required":["url","events"],"properties":{"url":{"type":"string","example":"https://example.com"},"name":{"type":["string","null"],"example":"some name"},"events":{"type":"array","items":{"$ref":"#/components/schemas/EventTypes"},"description":"Provide all event types that the webhook should be subscribed,\nThe event types array will be replaced entirely inline with JSON Merge Patch (RFC 7396)"}}},"UsdAmount":{"type":"integer","format":"u-int64","minimum":0},"VerifiedStatus":{"type":"string","enum":["pending_verification","verified"]},"Wallet":{"type":"object","required":["id","active","created_at","updated_at","name","organization_id","environment_id","network","balances","holds"],"properties":{"id":{"type":"string","format":"uuid"},"active":{"type":"boolean"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"deleted_at":{"type":["string","null"],"format":"date-time"},"deletion_failed_at":{"type":["string","null"],"format":"date-time"},"name":{"type":"string"},"organization_id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"limit":{"type":["integer","null"],"format":"u-int64","minimum":0},"line_of_credit_id":{"type":["string","null"],"format":"uuid"},"network":{"$ref":"#/components/schemas/Network"},"metadata":{"type":["object","null"],"additionalProperties":{"type":"string"},"propertyNames":{"type":"string"}},"balances":{"type":"array","items":{"$ref":"#/components/schemas/Balance"}},"holds":{"type":"array","items":{"$ref":"#/components/schemas/Hold"}},"error":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/WalletEventError"}]}}},"WalletEventError":{"oneOf":[{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["InsufficientFunds"]}}},{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["HoldNotFound"]}}},{"type":"object","required":["detail","type"],"properties":{"detail":{"type":"string"},"type":{"type":"string","enum":["InsufficientLimit"]}}}]},"WebhookDeliveries":{"type":"object","required":["items","offset","limit","total"],"properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/WebhookDeliveryRead"}},"offset":{"type":"integer","format":"u-int32","minimum":0},"limit":{"type":"integer","format":"u-int32","minimum":0},"total":{"type":"integer","format":"u-int32","minimum":0}}},"WebhookDeliveryRead":{"type":"object","required":["id","webhook_id","url","status","payload","created_at","updated_at","attempt_count"],"properties":{"id":{"type":"string","format":"uuid"},"webhook_id":{"type":"string","format":"uuid"},"url":{"type":"string","example":"https://example.com"},"status":{"$ref":"#/components/schemas/DeliveryStatus"},"payload":{"$ref":"#/components/schemas/Payload"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"attempt_count":{"type":"integer","format":"int64"},"error":{"type":["string","null"]},"status_code":{"type":["integer","null"],"format":"u-int16","example":200,"minimum":0}}},"WebhookPlainSecret":{"type":"object","required":["id","shared_secret"],"properties":{"id":{"type":"string","format":"uuid"},"shared_secret":{"type":"string","description":"Plain text shared secret used to verify the authenticity of the webhook payload.\nOnly ever shown to the user when creating a new webhook or updating the shared secret.","example":"vltg_GDtRrrJFJ6afRrAYMW3t9RpxgCdcT8zp"}}},"WebhookRead":{"type":"object","required":["id","organization_id","environment_id","url","name","events","status","created_at","updated_at"],"properties":{"id":{"type":"string","format":"uuid"},"organization_id":{"type":"string","format":"uuid"},"environment_id":{"type":"string","format":"uuid"},"url":{"type":"string","example":"https://example.com"},"name":{"type":"string","example":"some name"},"events":{"type":"array","items":{"$ref":"#/components/schemas/EventTypes"}},"status":{"$ref":"#/components/schemas/WebhookStatus"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"stopped_at":{"type":["string","null"],"format":"date-time"},"deleted_at":{"type":["string","null"],"format":"date-time"}}},"WebhookStatus":{"type":"string","enum":["active","stopped","deleted"]}},"securitySchemes":{"api_key":{"type":"apiKey","in":"header","name":"x-api-key","description":"Environment api key used to authenticate"},"bearer_token":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"User JWT token used to authentication with Bearer scheme"}}},"security":[{"bearer_token":[]},{"api_key":[]}],"tags":[{"name":"Wallets","description":"Manage wallets in an organization"},{"name":"Payments","description":"Manage payments in an organization"},{"name":"Lines of Credit","description":"Manage lines of credit in an organization"},{"name":"Webhooks","description":"Manage webhooks in an organization"},{"name":"Onboarding","description":"Manage onboarding of an organization"},{"name":"Billing","description":"Manage bills in an organization"}]}